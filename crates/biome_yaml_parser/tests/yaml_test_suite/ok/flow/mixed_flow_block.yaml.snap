---
source: crates/biome_yaml_parser/tests/spec_test.rs
expression: snapshot
---
## Input
```yaml
block_with_flow:
  mapping: {key1: val1, key2: val2}
  sequence: [a, b, c]
  nested: {inner: [1, 2, 3]}
plain: simple_value

```

## AST

```
YamlRoot {
    documents: YamlDocumentList [
        YamlDocument {
            bom_token: missing (optional),
            directives: YamlDirectiveList [],
            dashdashdash_token: missing (optional),
            node: YamlBlockMapping {
                properties: missing (optional),
                mapping_start_token: MAPPING_START@0..0 "" [] [],
                entries: YamlBlockMapEntryList [
                    YamlBlockMapImplicitEntry {
                        key: YamlFlowYamlNode {
                            properties: missing (optional),
                            content: YamlPlainScalar {
                                value_token: PLAIN_LITERAL@0..15 "block_with_flow" [] [],
                            },
                        },
                        colon_token: COLON@15..16 ":" [] [],
                        value: YamlBlockMapping {
                            properties: missing (optional),
                            mapping_start_token: MAPPING_START@16..19 "" [Newline("\n"), Whitespace("  ")] [],
                            entries: YamlBlockMapEntryList [
                                YamlBlockMapImplicitEntry {
                                    key: YamlFlowYamlNode {
                                        properties: missing (optional),
                                        content: YamlPlainScalar {
                                            value_token: PLAIN_LITERAL@19..26 "mapping" [] [],
                                        },
                                    },
                                    colon_token: COLON@26..28 ":" [] [Whitespace(" ")],
                                    value: YamlFlowInBlockNode {
                                        properties: missing (optional),
                                        flow_start_token: FLOW_START@28..28 "" [] [],
                                        flow: YamlFlowJsonNode {
                                            properties: missing (optional),
                                            content: YamlFlowMapping {
                                                l_curly_token: L_CURLY@28..29 "{" [] [],
                                                entries: YamlFlowMapEntryList [
                                                    YamlFlowMapImplicitEntry {
                                                        key: YamlFlowYamlNode {
                                                            properties: missing (optional),
                                                            content: YamlPlainScalar {
                                                                value_token: PLAIN_LITERAL@29..33 "key1" [] [],
                                                            },
                                                        },
                                                        colon_token: COLON@33..35 ":" [] [Whitespace(" ")],
                                                        value: YamlFlowYamlNode {
                                                            properties: missing (optional),
                                                            content: YamlPlainScalar {
                                                                value_token: PLAIN_LITERAL@35..39 "val1" [] [],
                                                            },
                                                        },
                                                    },
                                                    COMMA@39..41 "," [] [Whitespace(" ")],
                                                    YamlFlowMapImplicitEntry {
                                                        key: YamlFlowYamlNode {
                                                            properties: missing (optional),
                                                            content: YamlPlainScalar {
                                                                value_token: PLAIN_LITERAL@41..45 "key2" [] [],
                                                            },
                                                        },
                                                        colon_token: COLON@45..47 ":" [] [Whitespace(" ")],
                                                        value: YamlFlowYamlNode {
                                                            properties: missing (optional),
                                                            content: YamlPlainScalar {
                                                                value_token: PLAIN_LITERAL@47..51 "val2" [] [],
                                                            },
                                                        },
                                                    },
                                                ],
                                                r_curly_token: R_CURLY@51..52 "}" [] [],
                                            },
                                        },
                                        flow_end_token: FLOW_END@52..52 "" [] [],
                                    },
                                },
                                YamlBlockMapImplicitEntry {
                                    key: YamlFlowYamlNode {
                                        properties: missing (optional),
                                        content: YamlPlainScalar {
                                            value_token: PLAIN_LITERAL@52..63 "sequence" [Newline("\n"), Whitespace("  ")] [],
                                        },
                                    },
                                    colon_token: COLON@63..65 ":" [] [Whitespace(" ")],
                                    value: YamlFlowInBlockNode {
                                        properties: missing (optional),
                                        flow_start_token: FLOW_START@65..65 "" [] [],
                                        flow: YamlFlowJsonNode {
                                            properties: missing (optional),
                                            content: YamlFlowSequence {
                                                l_brack_token: L_BRACK@65..66 "[" [] [],
                                                entries: YamlFlowSequenceEntryList [
                                                    YamlFlowYamlNode {
                                                        properties: missing (optional),
                                                        content: YamlPlainScalar {
                                                            value_token: PLAIN_LITERAL@66..67 "a" [] [],
                                                        },
                                                    },
                                                    COMMA@67..69 "," [] [Whitespace(" ")],
                                                    YamlFlowYamlNode {
                                                        properties: missing (optional),
                                                        content: YamlPlainScalar {
                                                            value_token: PLAIN_LITERAL@69..70 "b" [] [],
                                                        },
                                                    },
                                                    COMMA@70..72 "," [] [Whitespace(" ")],
                                                    YamlFlowYamlNode {
                                                        properties: missing (optional),
                                                        content: YamlPlainScalar {
                                                            value_token: PLAIN_LITERAL@72..73 "c" [] [],
                                                        },
                                                    },
                                                ],
                                                r_brack_token: R_BRACK@73..74 "]" [] [],
                                            },
                                        },
                                        flow_end_token: FLOW_END@74..74 "" [] [],
                                    },
                                },
                                YamlBlockMapImplicitEntry {
                                    key: YamlFlowYamlNode {
                                        properties: missing (optional),
                                        content: YamlPlainScalar {
                                            value_token: PLAIN_LITERAL@74..83 "nested" [Newline("\n"), Whitespace("  ")] [],
                                        },
                                    },
                                    colon_token: COLON@83..85 ":" [] [Whitespace(" ")],
                                    value: YamlFlowInBlockNode {
                                        properties: missing (optional),
                                        flow_start_token: FLOW_START@85..85 "" [] [],
                                        flow: YamlFlowJsonNode {
                                            properties: missing (optional),
                                            content: YamlFlowMapping {
                                                l_curly_token: L_CURLY@85..86 "{" [] [],
                                                entries: YamlFlowMapEntryList [
                                                    YamlFlowMapImplicitEntry {
                                                        key: YamlFlowYamlNode {
                                                            properties: missing (optional),
                                                            content: YamlPlainScalar {
                                                                value_token: PLAIN_LITERAL@86..91 "inner" [] [],
                                                            },
                                                        },
                                                        colon_token: COLON@91..93 ":" [] [Whitespace(" ")],
                                                        value: YamlFlowJsonNode {
                                                            properties: missing (optional),
                                                            content: YamlFlowSequence {
                                                                l_brack_token: L_BRACK@93..94 "[" [] [],
                                                                entries: YamlFlowSequenceEntryList [
                                                                    YamlFlowYamlNode {
                                                                        properties: missing (optional),
                                                                        content: YamlPlainScalar {
                                                                            value_token: PLAIN_LITERAL@94..95 "1" [] [],
                                                                        },
                                                                    },
                                                                    COMMA@95..97 "," [] [Whitespace(" ")],
                                                                    YamlFlowYamlNode {
                                                                        properties: missing (optional),
                                                                        content: YamlPlainScalar {
                                                                            value_token: PLAIN_LITERAL@97..98 "2" [] [],
                                                                        },
                                                                    },
                                                                    COMMA@98..100 "," [] [Whitespace(" ")],
                                                                    YamlFlowYamlNode {
                                                                        properties: missing (optional),
                                                                        content: YamlPlainScalar {
                                                                            value_token: PLAIN_LITERAL@100..101 "3" [] [],
                                                                        },
                                                                    },
                                                                ],
                                                                r_brack_token: R_BRACK@101..102 "]" [] [],
                                                            },
                                                        },
                                                    },
                                                ],
                                                r_curly_token: R_CURLY@102..103 "}" [] [],
                                            },
                                        },
                                        flow_end_token: FLOW_END@103..103 "" [] [],
                                    },
                                },
                            ],
                            mapping_end_token: MAPPING_END@103..103 "" [] [],
                        },
                    },
                    YamlBlockMapImplicitEntry {
                        key: YamlFlowYamlNode {
                            properties: missing (optional),
                            content: YamlPlainScalar {
                                value_token: PLAIN_LITERAL@103..109 "plain" [Newline("\n")] [],
                            },
                        },
                        colon_token: COLON@109..111 ":" [] [Whitespace(" ")],
                        value: YamlFlowInBlockNode {
                            properties: missing (optional),
                            flow_start_token: FLOW_START@111..111 "" [] [],
                            flow: YamlFlowYamlNode {
                                properties: missing (optional),
                                content: YamlPlainScalar {
                                    value_token: PLAIN_LITERAL@111..123 "simple_value" [] [],
                                },
                            },
                            flow_end_token: FLOW_END@123..123 "" [] [],
                        },
                    },
                ],
                mapping_end_token: MAPPING_END@123..124 "" [Newline("\n")] [],
            },
            dotdotdot_token: missing (optional),
        },
    ],
    eof_token: EOF@124..124 "" [] [],
}
```

## CST

```
0: YAML_ROOT@0..124
  0: YAML_DOCUMENT_LIST@0..124
    0: YAML_DOCUMENT@0..124
      0: (empty)
      1: YAML_DIRECTIVE_LIST@0..0
      2: (empty)
      3: YAML_BLOCK_MAPPING@0..124
        0: (empty)
        1: MAPPING_START@0..0 "" [] []
        2: YAML_BLOCK_MAP_ENTRY_LIST@0..123
          0: YAML_BLOCK_MAP_IMPLICIT_ENTRY@0..103
            0: YAML_FLOW_YAML_NODE@0..15
              0: (empty)
              1: YAML_PLAIN_SCALAR@0..15
                0: PLAIN_LITERAL@0..15 "block_with_flow" [] []
            1: COLON@15..16 ":" [] []
            2: YAML_BLOCK_MAPPING@16..103
              0: (empty)
              1: MAPPING_START@16..19 "" [Newline("\n"), Whitespace("  ")] []
              2: YAML_BLOCK_MAP_ENTRY_LIST@19..103
                0: YAML_BLOCK_MAP_IMPLICIT_ENTRY@19..52
                  0: YAML_FLOW_YAML_NODE@19..26
                    0: (empty)
                    1: YAML_PLAIN_SCALAR@19..26
                      0: PLAIN_LITERAL@19..26 "mapping" [] []
                  1: COLON@26..28 ":" [] [Whitespace(" ")]
                  2: YAML_FLOW_IN_BLOCK_NODE@28..52
                    0: (empty)
                    1: FLOW_START@28..28 "" [] []
                    2: YAML_FLOW_JSON_NODE@28..52
                      0: (empty)
                      1: YAML_FLOW_MAPPING@28..52
                        0: L_CURLY@28..29 "{" [] []
                        1: YAML_FLOW_MAP_ENTRY_LIST@29..51
                          0: YAML_FLOW_MAP_IMPLICIT_ENTRY@29..39
                            0: YAML_FLOW_YAML_NODE@29..33
                              0: (empty)
                              1: YAML_PLAIN_SCALAR@29..33
                                0: PLAIN_LITERAL@29..33 "key1" [] []
                            1: COLON@33..35 ":" [] [Whitespace(" ")]
                            2: YAML_FLOW_YAML_NODE@35..39
                              0: (empty)
                              1: YAML_PLAIN_SCALAR@35..39
                                0: PLAIN_LITERAL@35..39 "val1" [] []
                          1: COMMA@39..41 "," [] [Whitespace(" ")]
                          2: YAML_FLOW_MAP_IMPLICIT_ENTRY@41..51
                            0: YAML_FLOW_YAML_NODE@41..45
                              0: (empty)
                              1: YAML_PLAIN_SCALAR@41..45
                                0: PLAIN_LITERAL@41..45 "key2" [] []
                            1: COLON@45..47 ":" [] [Whitespace(" ")]
                            2: YAML_FLOW_YAML_NODE@47..51
                              0: (empty)
                              1: YAML_PLAIN_SCALAR@47..51
                                0: PLAIN_LITERAL@47..51 "val2" [] []
                        2: R_CURLY@51..52 "}" [] []
                    3: FLOW_END@52..52 "" [] []
                1: YAML_BLOCK_MAP_IMPLICIT_ENTRY@52..74
                  0: YAML_FLOW_YAML_NODE@52..63
                    0: (empty)
                    1: YAML_PLAIN_SCALAR@52..63
                      0: PLAIN_LITERAL@52..63 "sequence" [Newline("\n"), Whitespace("  ")] []
                  1: COLON@63..65 ":" [] [Whitespace(" ")]
                  2: YAML_FLOW_IN_BLOCK_NODE@65..74
                    0: (empty)
                    1: FLOW_START@65..65 "" [] []
                    2: YAML_FLOW_JSON_NODE@65..74
                      0: (empty)
                      1: YAML_FLOW_SEQUENCE@65..74
                        0: L_BRACK@65..66 "[" [] []
                        1: YAML_FLOW_SEQUENCE_ENTRY_LIST@66..73
                          0: YAML_FLOW_YAML_NODE@66..67
                            0: (empty)
                            1: YAML_PLAIN_SCALAR@66..67
                              0: PLAIN_LITERAL@66..67 "a" [] []
                          1: COMMA@67..69 "," [] [Whitespace(" ")]
                          2: YAML_FLOW_YAML_NODE@69..70
                            0: (empty)
                            1: YAML_PLAIN_SCALAR@69..70
                              0: PLAIN_LITERAL@69..70 "b" [] []
                          3: COMMA@70..72 "," [] [Whitespace(" ")]
                          4: YAML_FLOW_YAML_NODE@72..73
                            0: (empty)
                            1: YAML_PLAIN_SCALAR@72..73
                              0: PLAIN_LITERAL@72..73 "c" [] []
                        2: R_BRACK@73..74 "]" [] []
                    3: FLOW_END@74..74 "" [] []
                2: YAML_BLOCK_MAP_IMPLICIT_ENTRY@74..103
                  0: YAML_FLOW_YAML_NODE@74..83
                    0: (empty)
                    1: YAML_PLAIN_SCALAR@74..83
                      0: PLAIN_LITERAL@74..83 "nested" [Newline("\n"), Whitespace("  ")] []
                  1: COLON@83..85 ":" [] [Whitespace(" ")]
                  2: YAML_FLOW_IN_BLOCK_NODE@85..103
                    0: (empty)
                    1: FLOW_START@85..85 "" [] []
                    2: YAML_FLOW_JSON_NODE@85..103
                      0: (empty)
                      1: YAML_FLOW_MAPPING@85..103
                        0: L_CURLY@85..86 "{" [] []
                        1: YAML_FLOW_MAP_ENTRY_LIST@86..102
                          0: YAML_FLOW_MAP_IMPLICIT_ENTRY@86..102
                            0: YAML_FLOW_YAML_NODE@86..91
                              0: (empty)
                              1: YAML_PLAIN_SCALAR@86..91
                                0: PLAIN_LITERAL@86..91 "inner" [] []
                            1: COLON@91..93 ":" [] [Whitespace(" ")]
                            2: YAML_FLOW_JSON_NODE@93..102
                              0: (empty)
                              1: YAML_FLOW_SEQUENCE@93..102
                                0: L_BRACK@93..94 "[" [] []
                                1: YAML_FLOW_SEQUENCE_ENTRY_LIST@94..101
                                  0: YAML_FLOW_YAML_NODE@94..95
                                    0: (empty)
                                    1: YAML_PLAIN_SCALAR@94..95
                                      0: PLAIN_LITERAL@94..95 "1" [] []
                                  1: COMMA@95..97 "," [] [Whitespace(" ")]
                                  2: YAML_FLOW_YAML_NODE@97..98
                                    0: (empty)
                                    1: YAML_PLAIN_SCALAR@97..98
                                      0: PLAIN_LITERAL@97..98 "2" [] []
                                  3: COMMA@98..100 "," [] [Whitespace(" ")]
                                  4: YAML_FLOW_YAML_NODE@100..101
                                    0: (empty)
                                    1: YAML_PLAIN_SCALAR@100..101
                                      0: PLAIN_LITERAL@100..101 "3" [] []
                                2: R_BRACK@101..102 "]" [] []
                        2: R_CURLY@102..103 "}" [] []
                    3: FLOW_END@103..103 "" [] []
              3: MAPPING_END@103..103 "" [] []
          1: YAML_BLOCK_MAP_IMPLICIT_ENTRY@103..123
            0: YAML_FLOW_YAML_NODE@103..109
              0: (empty)
              1: YAML_PLAIN_SCALAR@103..109
                0: PLAIN_LITERAL@103..109 "plain" [Newline("\n")] []
            1: COLON@109..111 ":" [] [Whitespace(" ")]
            2: YAML_FLOW_IN_BLOCK_NODE@111..123
              0: (empty)
              1: FLOW_START@111..111 "" [] []
              2: YAML_FLOW_YAML_NODE@111..123
                0: (empty)
                1: YAML_PLAIN_SCALAR@111..123
                  0: PLAIN_LITERAL@111..123 "simple_value" [] []
              3: FLOW_END@123..123 "" [] []
        3: MAPPING_END@123..124 "" [Newline("\n")] []
      4: (empty)
  1: EOF@124..124 "" [] []

```
